{% extends "base.html" %}

{% block title %}××©×™××•×ª ×œ××™××•×ª - Crypto-Class{% endblock %}

{% block content %}
<h1 style="margin-bottom: 1rem; color: #667eea;">âœ… ××©×™××•×ª ××—×›×•×ª ×œ××™×©×•×¨</h1>

{% if tasks %}
<p style="margin-bottom: 1rem;">×¡×”"×› {{ tasks|length }} ××©×™××•×ª ××—×›×•×ª ×œ××™×©×•×¨</p>

<table class="table">
    <thead>
        <tr>
            <th>#</th>
            <th>××©×ª××©</th>
            <th>××©×™××”</th>
            <th>×”×•×›×—×”</th>
            <th>×–××Ÿ</th>
            <th>×¤×¢×•×œ×•×ª</th>
        </tr>
    </thead>
    <tbody>
        {% for task in tasks %}
        <tr>
            <td>{{ loop.index }}</td>
            <td>
                <strong>{{ task.user.first_name or "××œ××•× ×™" }}</strong><br>
                <small>@{{ task.user.username or "×œ×œ× ×©× ××©×ª××©" }}</small>
            </td>
            <td>
                <strong>{{ task.task.name }}</strong><br>
                <small>{{ task.task.description[:50] }}...</small>
            </td>
            <td>
                {% if task.proof_text %}
                <div style="max-width: 300px; word-wrap: break-word;">
                    {{ task.proof_text[:100] }}{% if task.proof_text|length > 100 %}...{% endif %}
                </div>
                {% else %}
                <em style="color: #999;">××™×Ÿ ×”×•×›×—×”</em>
                {% endif %}
            </td>
            <td>{{ task.completed_at.strftime('%d/%m %H:%M') }}</td>
            <td style="display: flex; gap: 0.5rem;">
                <a href="/teacher/tasks/approve/{{ task.id }}" 
                   class="btn" style="background: #48bb78; color: white; text-decoration: none; padding: 0.25rem 0.5rem;">
                    âœ… ××™×©×•×¨
                </a>
                <a href="/teacher/tasks/reject/{{ task.id }}" 
                   class="btn" style="background: #f56565; color: white; text-decoration: none; padding: 0.25rem 0.5rem;">
                    âŒ ×“×—×™×™×”
                </a>
            </td>
        </tr>
        {% endfor %}
    </tbody>
</table>
{% else %}
<div style="text-align: center; padding: 4rem; background: white; border-radius: 10px; box-shadow: 0 2px 10px rgba(0,0,0,0.05);">
    <h2 style="color: #667eea; margin-bottom: 1rem;">ğŸ‰ ××™×Ÿ ××©×™××•×ª ××—×›×•×ª ×œ××™×©×•×¨!</h2>
    <p style="color: #666;">×›×œ ×”××©×™××•×ª ××•×©×¨×• ××• ×˜×¨× × ×©×œ×—×• ××©×™××•×ª ×—×“×©×•×ª ×œ××™××•×ª.</p>
    <a href="/teacher" class="btn btn-primary" style="margin-top: 1rem;">×—×–×¨×” ×œ×“×©×‘×•×¨×“</a>
</div>
{% endif %}
{% endblock %}
